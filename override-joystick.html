<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rover Dashboard - Joystick Control</title>
  <link rel="stylesheet" href="style-unified.css">
</head>

<body class="joystick-mode">
  <!-- Full Screen Camera Background -->
  <div class="camera-background">
    <img src="http://192.168.4.1:9000/mjpg" alt="Rover Camera Stream" class="fullscreen-camera">
  </div>

  <div class="joystick-dashboard-container">
    <!-- Title Overlay -->
    <div class="joystick-title-overlay">
      <h1 class="joystick-mode-title">Control | Joystick Mode</h1>
    </div>

    <!-- Left Side: Joystick Control -->
    <div class="joystick-left-panel">
      <div class="joystick-container">
        <div class="joystick-base">
          <div class="joystick-knob" id="joystick-knob"></div>
        </div>
      </div>

      <!-- Control Modes -->
      <div class="joystick-controls">
        <div class="side-toggle joystick-toggle">
          <span>Avoid O.</span>
          <div class="switch" id="avoid-switch"></div>
        </div>
        <div class="side-toggle joystick-toggle">
          <span>Follow O.</span>
          <div class="switch" id="follow-switch"></div>
        </div>
        <div class="side-toggle joystick-toggle">
          <span>Stop</span>
          <div class="switch" id="stop-mode-switch"></div>
        </div>
      </div>
    </div>

    <!-- Right Side: Speed Control -->
    <div class="joystick-right-panel">
      <!-- Slider Control Header -->
      <div class="slider-control-header">
        <span class="slider-mode-indicator" id="slider-mode-text">Speed Control</span>
      </div>

      <!-- Speed Slider (padrão) -->
      <div class="vertical-slider" id="speed-slider-container">
        <div class="slider-track">
          <input type="range" min="0" max="100" value="50" class="range-slider vertical" id="speed-slider" orient="vertical">
        </div>
      </div>

      <!-- Camera Angle Slider (oculto inicialmente) -->
      <div class="vertical-slider" id="camera-slider-container" style="display: none;">
        <div class="slider-track">
          <input type="range" min="0" max="180" value="90" class="range-slider vertical" id="camera-angle-slider" orient="vertical">
        </div>
      </div>

      <!-- Value Display -->
      <div class="slider-value-display">
        <span id="current-slider-value">50%</span>
      </div>
      
      <!-- System Controls -->
      <div class="joystick-controls">
        <div class="side-toggle joystick-toggle">
          <span>STT</span>
          <div class="switch" id="stt-switch"></div>
        </div>
        <div class="side-toggle joystick-toggle">
          <span>HeadLamp</span>
          <div class="switch" id="headlamp-switch"></div>
        </div>
      </div>
    </div>

    <!-- Bottom Status Bar -->
    <div class="joystick-status-bar">
      <!-- Linha de cima: Speed, Left IR, Ultrasonic, Right IR, Direction -->
      <div class="status-row status-row-top">
        <div class="status-box joystick-status">
          <span class="status-label">Speed</span>
          <span class="status-value" id="speed-value">50%</span>
        </div>

        <div class="status-box joystick-status">
          <span class="status-label">Left IR</span>
          <span class="status-value" id="left-ir-value">--</span>
        </div>

        <div class="status-box joystick-status">
          <span class="status-label">Ultrasonic</span>
          <span class="status-value" id="ultrasonic-value">-- cm</span>
        </div>

        <div class="status-box joystick-status">
          <span class="status-label">Right IR</span>
          <span class="status-value" id="right-ir-value">--</span>
        </div>

        <div class="status-box joystick-status">
          <span class="status-label">Direction</span>
          <span class="status-value" id="direction-value">Center</span>
        </div>
      </div>

      <!-- Linha de baixo: Left Motor, Right Motor, Camera Angle -->
      <div class="status-row status-row-bottom">
        <div class="status-box joystick-status">
          <span class="status-label">Left Motor</span>
          <span class="status-value" id="left-motor-value">0</span>
        </div>

        <div class="status-box joystick-status">
          <span class="status-label">Right Motor</span>
          <span class="status-value" id="right-motor-value">0</span>
        </div>

        <div class="status-box joystick-status">
          <span class="status-label">Camera Angle</span>
          <span class="status-value" id="camera-angle-status">90°</span>
        </div>
      </div>
    </div>

  </div>
 <!-- 1. Sistema de comunicação (deve ser carregado primeiro) -->
    <script src="rover-communication.js"></script>
    
    <!-- 2. Sistema de controles (depende da comunicação) -->
    <script src="rover-controls.js"></script>
    
    <!-- 3. Sistema de interface (pode usar ambos os anteriores) -->
    <script src="rover-interface.js"></script>
  <!-- <script src="OLD JS/dashboard.js"></script>
  <script src="OLD JS/joystick-control.js"></script> -->
</body>

</html>
